<div class="container-fluid">
  <!-- Search Form -->
  <form class="d-flex mb-4">
    <input #searchInput class="form-control me-2"
           type="search"
           placeholder="Search"
           name="searchQuery">
    <button class="btn btn-outline-success submitBtn"
            type="button"
            (click)="searchCharacterName(searchInput.value)">
      Search
    </button>
  </form>

  <!-- Error Message -->
  <div class="errorMessage text-center">
    <h3 id="errorOutput">{{ errorMessage }}</h3>
  </div>

  <!-- Search Results -->
  <div *ngIf="searchResults.length > 0" class="mb-4">
    <h2 class="text-center p-2">Searched Characters</h2>
    <div class="row">
      <div class="col-md-6 mb-4" *ngFor="let character of searchResults">
        <app-card [character]="character"></app-card>
      </div>
    </div>
  </div>

  <!-- All Characters with Virtual Scroll -->
  <div *ngIf="searchResults.length === 0">
    <h2 class="text-center p-2">All Characters</h2>
    <cdk-virtual-scroll-viewport
      itemSize="250"
      class="viewport"
      (scrolledIndexChange)="onScrolledIndexChange($event)">

      <div class="virtual-row">
        <div class="virtual-col" *cdkVirtualFor="let character of characters">
          <app-card [character]="character"></app-card>
        </div>
      </div>

    </cdk-virtual-scroll-viewport>
  </div>
</div>
